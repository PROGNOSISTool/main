

\tikzstyle{module} = [rectangle, draw,
    text width=5em, text centered, rounded corners, 
    minimum height=4em, node distance=5cm]

\tikzstyle{closemodule} = [rectangle, draw,
    text width=5em, text centered, rounded corners, 
    minimum height=4em, node distance=2cm]

\tikzstyle{line} = [draw, -latex']


\begin{figure}
    \centering
    \begin{tikzpicture}[node distance = 2cm, auto]
        % Place nodes
        \node [module] (sul) {System under learning};
        \node [module, right of=sul] (l*) {Learn Lib};
        \node [module, right of=l*] (synth) {Synthesizer};
        \node [closemodule, below of=l*] (tester) {Tester};
        
        \path [line] (sul) edge [bend left = 20] node {$a$-membership queries}(l*);
        \path [line] (sul) edge [bend right = 20] node {$a$-equivalence queries}(l*);
        \path [line] (l*) -- node {get $a$-machine}(synth);
        \path [line] (synth) edge [bend right = 20] node {get $w$-machine}(tester);
        \path [line] (tester) edge [bend right = 40] node {get c. example}(synth);
        \path [line] (sul) edge [bend right = 40] node {$w$-membership}(tester);
        
    \end{tikzpicture}
    \caption{
    It ugly.
    }
\end{figure}